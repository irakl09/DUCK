<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Duck Generator</title>
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            font-family: sans-serif;
            color: #2d2d2d;
            background: url('https://i.postimg.cc/1zFZB1dh/so-white.png') repeat;
        }

        h1, small {
            text-align: center;
        }

        main {
            width: 100%;
            height: 100vh;
            position: relative;
        }

        main img {
            width: 200px;
            height: 200px;
            object-fit: cover;
            position: absolute;
        }

        main h2 {
            color: red;
            position: absolute;
            z-index: 200;
        }
    </style>
</head>
<body>
    <h1>
        Duck Generator
        <small>(Just click somewhere)</small>
    </h1>
    <main id="duck"></main>
<script>
    // Array to store user-uploaded images
    let userImages = [];

    // Your provided image URLs
    let providedImageURLs = [
        "https://i.postimg.cc/Nf9SgcRq/IMG-20231007-090432.png",
        "https://i.postimg.cc/3Js6NcZy/IMG-20231007-090446.png",
        "https://i.postimg.cc/PJNcvGcD/IMG-20231007-090501.png",
        "https://i.postimg.cc/L8jW13yx/IMG-20231007-090517.png",
        "https://i.postimg.cc/2jXgR6b7/IMG-20231007-090539.png",
        "https://i.postimg.cc/C5t2jPTQ/IMG-20231007-090610.png",
        "https://i.postimg.cc/DZxHzfCF/IMG-20231007-090625.png",
        "https://i.postimg.cc/9fVntwKC/IMG-20231007-090637.png",
        "https://i.postimg.cc/wvj4n89r/IMG-20231007-090656.jpg",
        "https://i.postimg.cc/g0DBMkbR/IMG-20231007-090713.jpg",
        "https://i.postimg.cc/HkKDC9Sz/20231007093520550.jpg",
    ];

    // Shuffle the array of provided image URLs
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    shuffleArray(providedImageURLs);

    // Keep track of the index of the last used image
    let lastUsedImageIndex = -1;

    // Function to get the next image URL without repetition
    function getNextImage() {
        lastUsedImageIndex = (lastUsedImageIndex + 1) % providedImageURLs.length;
        return providedImageURLs[lastUsedImageIndex];
    }

    // Code to limit the number of ducks
    document.addEventListener('click', e => {
        if (document.getElementById('duck').children.length >= 17) {
            let stopMsg = document.createElement('h2');
            stopMsg.innerText = "TOO MUCH DUCK!BE CAREFUL!"
            stopMsg.style.top = e.clientY + "px";
            stopMsg.style.left = e.clientX + "px";
            document.getElementById('duck').append(stopMsg);
        } else {
            // Choose a random image from user-uploaded, provided, and default images
            let allImages = [...userImages];

            if (allImages.length < 17) {
                // Add images from the shuffled providedImageURLs
                while (allImages.length < 17) {
                    allImages.push(getNextImage());
                }
            }

            // Generate a random image URL
            const randomImageIndex = Math.floor(Math.random() * allImages.length);
            const randomImageURL = allImages.splice(randomImageIndex, 1)[0];

            let img = document.createElement('img');
            img.setAttribute('src', randomImageURL);
            img.style.top = (e.clientY - 100) + "px";
            img.style.left = (e.clientX - 100) + "px";
            document.getElementById('duck').append(img);
        }
    });
</script>
</body>
</html>
